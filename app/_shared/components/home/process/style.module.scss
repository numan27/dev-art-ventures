@import "utils/responsive.module.scss";
@import "utils/colors.scss";

.sectionWrapper {
  z-index: 100 !important;
  width: 100%;
  height: 100%;
  @include RP(
    (
      "padding-top": 15,
      "padding-bottom": 15,
      "margin-top": 100,
      "margin-bottom": 60,
    ),
    1
  );
  @media screen and (max-width: 510px) {
    @include RP(
      (
        "margin-top": 40,
      ),
      1
    );
  }

  .customContainer {
    @extend .customContainer;
  }

  .cardContainer {
    @include RP(
      (
        "margin-top": 30,
      ),
      1
    );
  }

  .cardItem {
    position: relative;
    background-color: #00041f !important;
    border: 1px solid #131839 !important;
    background-image: url("../../../../_assets/images/design-process-card-bg.png");
    background-position: 95% 8%;
    background-repeat: no-repeat;
    background-size: 340px auto;
    overflow: hidden;
    will-change: transform, box-shadow;
    transition: transform 0.35s ease, box-shadow 0.35s ease,
      border-color 0.35s ease, background-position 0.35s ease,
      opacity 0.25s ease;

    @include RP(
      (
        "padding": 30,
        "border-radius": 20,
        "gap": 16,
        "min-height": 220,
      ),
      1
    );

    /* Top progress bar using only brand colors */
    .progressBar {
      position: absolute;
      left: 0;
      top: 0;
      height: 1px;
      width: 0%;
      background: linear-gradient(
        90deg,
        $PRIMARY 0%,
        $PRIMARY_DARK 50%,
        $DESC 100%
      );
      background-size: 200% 100%;
      animation: progressGrow 1.2s ease forwards, shimmer 2.4s linear infinite;
      animation-delay: var(--delay, 0s), calc(var(--delay, 0s) + 0.4s);
      opacity: 0.95;
    }

    /* Subtle gradient border sheen */
    &::before {
      content: "";
      position: absolute;
      inset: -1px;
      border-radius: inherit;
      padding: 1px;
      background: linear-gradient(
        135deg,
        rgba(126, 88, 255, 0.35) 0%,
        rgba(0, 212, 255, 0.18) 40%,
        rgba(255, 80, 160, 0.28) 100%
      );
      -webkit-mask: linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
      opacity: 0.55;
      transition: opacity 0.35s ease;
    }

    /* Ambient glow */
    &::after {
      content: "";
      position: absolute;
      inset: -40% -20% auto -20%;
      height: 120%;
      filter: blur(40px);
      background: radial-gradient(
          240px 200px at 15% 20%,
          rgba(126, 88, 255, 0.12),
          rgba(126, 88, 255, 0) 60%
        ),
        radial-gradient(
          240px 200px at 85% 10%,
          rgba(0, 212, 255, 0.12),
          rgba(0, 212, 255, 0) 60%
        );
      opacity: 0.35;
      pointer-events: none;
      transition: opacity 0.35s ease;
    }

    &:hover {
      transform: translateY(-4px);
      border-color: #293061;
      background-position: 92% 6%;
      box-shadow: 0 14px 34px rgba(0, 0, 0, 0.35);
      &::before {
        opacity: 0.95;
      }
      &::after {
        opacity: 0.5;
      }
    }

    /* Remove icon container border pulse; add spin on icon */
    .iconWrap::before {
      content: none;
    }

    img {
      @include RP(
        (
          "width": 48,
          "height": 48,
        ),
        1
      );
      filter: drop-shadow(0 4px 14px rgba(126, 88, 255, 0.35));
    }

    h4 {
      @include RP(
        (
          "font-size": 22,
          "line-height": 30,
        ),
        1
      );
      font-weight: 700;
      letter-spacing: 0.2px;
      background: linear-gradient(90deg, #ffffff 0%, #c5b9f6 80%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Remove centered process lines */
    .dashLine {
      display: none;
    }

    p {
      width: 100%;
      text-align: left !important;
      @include RP(
        (
          "font-size": 15,
          "line-height": 24,
        ),
        1
      );
      color: $DESC;
    }

    .topRow {
      display: flex;
      align-items: center;
      justify-content: space-between;
      @include RP(
        (
          "margin-bottom": 10,
        ),
        1
      );
    }

    .ctaHint {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #c5b9f6;
      opacity: 0.85;
      @include RP(
        (
          "margin-top": 8,
        ),
        1
      );
      transition: opacity 0.25s ease, transform 0.25s ease;
      svg {
        transform: rotate(-45deg);
        transition: transform 0.25s ease;
      }
      &:hover {
        opacity: 1;
        transform: translateY(-1px);
        svg {
          transform: translateX(2px) rotate(-45deg);
        }
      }
    }
  }
}

@keyframes progressGrow {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

@keyframes shimmer {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

@keyframes iconSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
